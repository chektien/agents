{
  "$schema": "https://opencode.ai/config.json",
  "default_agent": "task",
  "provider": {
    "ollama": {
      "npm": "@ai-sdk/openai-compatible",
      "options": { "baseURL": "http://localhost:11434/v1" },
      "models": {
        "gpt-oss": { "name": "GPT-OSS" },
        "mistral-small3.2": { "name": "Mistral Small 3.2" },
        "qwen3:14b": { "name": "Qwen 3.0 14b" },
        "qwen3-coder": { "name": "Qwen 3 Coder" },
        "deepseek-coder-v2": { "name": "DeepSeek Coder v2" },
        "deepseek-r1": { "name": "DeepSeek R1" },
        "llama3.1:8b": { "name": "Llama 3.1 8B" }
      }
    },
    "google": {
      "options": { "apiKey": "{env:GOOGLE_GEMINI_API_KEY}" },
      "models": { "gemini-2.5-flash": { "name": "Gemini 2.5 Flash" } }
    }
  },
  "mcp": {
    "brave-search": {
      "type": "local",
      "command": ["npx", "-y", "@brave/brave-search-mcp-server"],
      "enabled": true,
      "environment": { "BRAVE_API_KEY": "{env:BRAVE_API_KEY}" }
    },
    "fetch": {
      "type": "local",
      "command": ["uvx", "mcp-server-fetch"],
      "enabled": true
    },
    "blender-mcp": {
      "type": "local",
      "command": ["uvx", "blender-mcp"],
      "enabled": false
    },
    "chrome-devtools": {
      "type": "local",
      "command": ["npx", "-y", "chrome-devtools-mcp@latest"],
      "enabled": true
    },
    "paper-search": {
      "type": "local",
      "command": [
        "uvx",
        "--from",
        "paper-search-mcp",
        "python",
        "-m",
        "paper_search_mcp.server"
      ],
      "enabled": false
    },
    "xcodebuild": {
      "type": "local",
      "command": ["uvx", "mcpxcodebuild"],
      "enabled": false
    }
  },
  "permission": {
    "read": {
      "*": "allow",
      "~/.ssh/**": "ask",
      "~/.aws/**": "ask",
      "~/.npmrc": "ask",
      "~/.netrc": "ask",
      "~/.bash_profile": "ask",
      "~/.zshrc": "ask",
      "~/.bashrc": "ask",
      "~/Library/**": "ask",
      "<YOUR_WORKING_DIR>/**": "allow"
    },
    "write": {
      "*": "allow",
      "~/.ssh/**": "ask",
      "~/.aws/**": "ask",
      "~/.npmrc": "ask",
      "~/.netrc": "ask",
      "~/.bash_profile": "ask",
      "~/.zshrc": "ask",
      "~/.bashrc": "ask",
      "~/Library/**": "ask",
      "<YOUR_WORKING_DIR>/**": "allow"
    },
    "edit": {
      "*": "allow",
      "~/.ssh/**": "ask",
      "~/.aws/**": "ask",
      "~/.npmrc": "ask",
      "~/.netrc": "ask",
      "~/.bash_profile": "ask",
      "~/.zshrc": "ask",
      "~/.bashrc": "ask",
      "~/Library/**": "ask",
      "<YOUR_WORKING_DIR>/**": "allow"
    },
    "list": {
      "*": "allow",
      "~/.ssh/**": "ask",
      "~/.aws/**": "ask",
      "~/Library/**": "ask",
      "<YOUR_WORKING_DIR>/**": "allow"
    },
    "glob": {
      "*": "allow"
    },
    "grep": {
      "*": "allow",
      "~/.ssh/**": "ask",
      "~/.aws/**": "ask",
      "~/.npmrc": "ask",
      "~/.netrc": "ask",
      "~/Library/**": "ask",
      "<YOUR_WORKING_DIR>/**": "allow"
    },
    "todoread": "allow",
    "todowrite": "allow",
    "skill": "allow",
    "bash": {
      "*": "allow",
      "rm -rf *": "ask",
      "rm -r *": "ask",
      "git push --force*": "ask",
      "git reset --hard*": "ask",
      "git filter-branch*": "ask",
      "git clean *": "ask",
      "kill *": "ask",
      "killall *": "ask",
      "pkill *": "ask",
      "osascript*": "ask",
      "osascript */scripts/mail-search*": "allow",
      "osascript */scripts/mail-open*": "allow",
      "osascript */scripts/open-standup*": "allow",
      "osascript */scripts/post-standup*": "allow",
      "*send*mail*": "deny",
      "*send*message*": "deny",
      "*outgoing message*send*": "deny"
    },
    "external_directory": {
      "*": "allow",
      "/": "deny",
      "/System/**": "deny",
      "/bin/**": "deny",
      "/sbin/**": "deny",
      "/usr/**": "deny",
      "/etc/**": "deny",
      "/var/**": "deny",
      "/private/**": "deny",
      "/tmp/**": "deny",
      "~/.ssh/**": "ask",
      "~/.aws/**": "ask",
      "~/.npmrc": "ask",
      "~/.netrc": "ask",
      "~/.bash_profile": "ask",
      "~/.zshrc": "ask",
      "~/.bashrc": "ask",
      "~/Library/**": "ask",
      "<YOUR_WORKING_DIR>/**": "allow",
      "~": "ask"
    },
    "mcp__fetch_*": {
      "*": "ask",
      "*://localhost*": "deny",
      "*://127.*": "deny",
      "*://0.0.0.0*": "deny",
      "*://10.*": "deny",
      "*://172.1?.*": "deny",
      "*://172.2?.*": "deny",
      "*://172.3[01].*": "deny",
      "*://192.168.*": "deny",
      "*://169.254.*": "deny",
      "*://*.local*": "deny",
      "*://*.internal*": "deny"
    }
  },
  "tui": { "scroll_acceleration": { "enabled": true } },
  "agent": {
    "task": {
      "mode": "primary",
      "model": "<YOUR_PREFERRED_TASK_MODEL>"
    },
    "build": {
      "mode": "primary",
      "model": "<YOUR_STRONGER_MODEL>",
      "prompt": "{file:./prompts/build.md}"
    },
    "plan": {
      "mode": "primary",
      "model": "<YOUR_STRONGER_MODEL>"
    },
    "simple": {
      "mode": "primary",
      "model": "<YOUR_LIGHTWEIGHT_MODEL>"
    },
    "boss": {
      "mode": "primary",
      "model": "<YOUR_STRONGER_MODEL>",
      "permission": {
        "task": {
          "thinker": "allow",
          "worker": "allow",
          "reviewer": "allow",
          "vision": "allow"
        },
        "skill": {
          "*": "allow"
        }
      },
      "prompt": "{file:./prompts/boss.md}"
    },
    "worker": {
      "mode": "subagent",
      "hidden": true,
      "model": "<YOUR_WORKER_MODEL>",
      "tools": {
        "question": false
      },
      "description": "Task executor for code, writing, and config tasks. Works through assigned task batches, updates standup.md with progress, and commits after each task",
      "prompt": "{file:./prompts/worker.md}"
    },
    "coworker": {
      "mode": "subagent",
      "hidden": true,
      "model": "<YOUR_FALLBACK_MODEL>",
      "tools": {
        "question": false
      },
      "description": "Fallback task executor for complex tasks that the primary worker failed to complete, stronger analytical capabilities",
      "prompt": "{file:./prompts/coworker.md}"
    },
    "reviewer": {
      "mode": "subagent",
      "hidden": true,
      "model": "<YOUR_WORKER_MODEL>",
      "tools": {
        "question": false
      },
      "description": "Independent reviewer with fresh context. Reviews completed work against acceptance criteria, runs tests, checks for bugs, and returns a structured PASS/FAIL verdict with specific issues found",
      "prompt": "{file:./prompts/reviewer.md}"
    },
    "vision": {
      "mode": "subagent",
      "hidden": true,
      "model": "<YOUR_VISION_MODEL>",
      "tools": {
        "question": false
      },
      "description": "Handles all visual tasks including reading PDFs with embedded images, Chrome DevTools debugging, screenshots, diagrams, and any visual content analysis",
      "prompt": "{file:./prompts/vision.md}"
    },
    "thinker": {
      "mode": "subagent",
      "hidden": true,
      "model": "<YOUR_STRONGER_MODEL>",
      "tools": {
        "question": false,
        "edit": false,
        "write": false,
        "patch": false,
        "task": false,
        "skill": false
      },
      "description": "Read-only strategic consultant and planner. Produces structured execution plans for complex sessions, and diagnoses repeated worker failures. Never modifies files.",
      "prompt": "{file:./prompts/thinker.md}"
    },
    "superboss": {
      "mode": "primary",
      "model": "<YOUR_STRONGER_MODEL>",
      "tools": {
        "question": false
      },
      "permission": {
        "task": {
          "hardworker": "allow"
        },
        "skill": {
          "*": "allow"
        }
      },
      "prompt": "{file:./prompts/superboss.md}"
    },
    "hardworker": {
      "mode": "subagent",
      "hidden": true,
      "model": "<YOUR_WORKER_MODEL>",
      "tools": {
        "question": false
      },
      "steps": 50,
      "prompt": "{file:./prompts/hardworker.md}"
    }
  }
}
